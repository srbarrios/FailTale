Feature: Bootstrap a Salt minion via the GUI

  Scenario: Clean up sumaform leftovers on SLES minion        # features/init_clients/sle_minion.feature:7
      This scenario ran at: 2025-04-23 22:04:47 +0200
Initializing a remote node for 'sle_minion'.
Host 'sle_minion' is alive with determined hostname oscar-suse-minion and FQDN oscar-suse-minion.mgr.suse.de
Node: oscar-suse-minion, OS Version: 15-SP4, Family: sles
Node: oscar-suse-minion, OS Version: 15-SP4, Family: sles
zypper mr --disable  tools_update_repo tools_pool_repo returned status code = 0.
Output:
'Nothing to change for repository 'tools_update_repo'.
Nothing to change for repository 'tools_pool_repo'.
'
    When I perform a full salt minion cleanup on "sle_minion" # features/step_definitions/salt_steps.rb:560
      This scenario took: 5 seconds

  Scenario: Log in as admin user                  # features/init_clients/sle_minion.feature:10
      This scenario ran at: 2025-04-23 22:04:52 +0200
    Given I am authorized for the "Admin" section # features/step_definitions/navigation_steps.rb:418
      This scenario took: 13 seconds

  Scenario: Bootstrap a SLES minion                                # features/init_clients/sle_minion.feature:13
      This scenario ran at: 2025-04-23 22:05:05 +0200
    When I follow the left menu "Systems > Bootstrapping"          # features/step_definitions/navigation_steps.rb:354
    Then I should see a "Bootstrap Minions" text                   # features/step_definitions/navigation_steps.rb:621
    When I enter the hostname of "sle_minion" as "hostname"        # features/step_definitions/navigation_steps.rb:463
      The hostname of sle_minion is oscar-suse-minion.mgr.suse.de
    And I enter "22" as "port"                                     # features/step_definitions/navigation_steps.rb:220
    And I enter "root" as "user"                                   # features/step_definitions/navigation_steps.rb:220
    And I enter "linux" as "password"                              # features/step_definitions/navigation_steps.rb:220
    And I select "1-SUSE-KEY-x86_64" from "activationKeys"         # features/step_definitions/navigation_steps.rb:164
      Unable to find xpath "//*[contains(@class, 'data-testid-activationKeys-child__control')]" (Capybara::ElementNotFound)
      ./features/step_definitions/navigation_steps.rb:171:in `/^I select "([^"]*)" from "([^"]*)"$/'
      features/init_clients/sle_minion.feature:20:in `I select "1-SUSE-KEY-x86_64" from "activationKeys"'
